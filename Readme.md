# Pannelbubble

Panelbubble is a component library for bubbletea that provides the ability to compose
terminal applications with multiple panels. The panels can be organized in a hierarchy,
and the library provides mechanisms for focus management, contextual help, and global
and local shortcuts.
An initial implementation is provided for dynamic resizing of panels.

## Design Notes

In order to make it easy to use bubble-tea components inside panels, the following concepts are
introduced:
1. **Auto-Routing**: Output `tea.Msg`s that are `tea.Cmd`s generated by the children of a panel
are auto-routed to the parent panel, which passes them back to the child for processing. This ensures that 
messages are not broadcasted to ui elements in other panels, that may potentially handle the same message.
2. **Shortcuts**: Panels can be configured with global and local shortcuts. When a global shortcut is triggered,
the parent panel can decide how to handle it - for example, by changing focus to a panel that implements the
relevant workflow.
3. **MsgToParent**: This goes slightly against the usual bubbletea pattern of messages being passed
to the parent from the child. In the case where a panel wants to handle a message that the parent panel
is also interested in, the panel can pass the message to the parent using this method. The parent can then
decide how to handle it - for example, by passing it to another child panel. This avoids the need to 
pass the message down the hierarchy. This helps implement features like focus passing, where for example,
pressing the down arrow key to focus the next item in a list, should focus the next item in the current panel if we're
already at the last item, or focus the first item in the next panel.
4. **Contextual Help**: When a panel is focused, it can send a message to the parent to display contextual help.
The parent can decide to display it or not.
5. **Workflow Focus Movement**: Panels can be configured to enable focus movement on key strokes.
For example, a panel can be configured to move focus to the next panel when the down arrow key is pressed,
and to the previous panel when the up arrow key is pressed. This is useful for implementing workflows, where,
depending on the *workflow*, it might make sense to move focus to a certain sequence of panels.


